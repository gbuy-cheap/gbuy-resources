!function(e){"use strict";var t=e.plot.browser,i="hover";e.plot.plugins.push({init:function(o){var a,r=[];function n(e){var t=o.getOptions(),a=new CustomEvent("mouseevent");return a.pageX=e.detail.changedTouches[0].pageX,a.pageY=e.detail.changedTouches[0].pageY,a.clientX=e.detail.changedTouches[0].clientX,a.clientY=e.detail.changedTouches[0].clientY,t.grid.hoverable&&s(a,i,30),!1}function s(e,t,i){var a=o.getData();if(void 0!==e&&a.length>0&&void 0!==a[0].xaxis.c2p&&void 0!==a[0].yaxis.c2p){var r=t+"able";u("plot"+t,e,(function(e){return!1!==a[e][r]}),i)}}function l(e){a=e,o.getPlaceholder()[0].lastMouseMoveEvent=e,s(e,i)}function c(e){a=void 0,o.getPlaceholder()[0].lastMouseMoveEvent=void 0,u("plothover",e,(function(e){return!1}))}function p(e){s(e,"click")}function h(){o.unhighlight(),o.getPlaceholder().trigger("plothovercleanup")}function u(e,i,a,n){var s=o.getOptions(),l=o.offset(),c=t.getPageXY(i),p=c.X-l.left,h=c.Y-l.top,u=o.c2p({left:p,top:h}),v=void 0!==n?n:s.grid.mouseActiveRadius;u.pageX=c.X,u.pageY=c.Y;var f=o.findNearbyItem(p,h,a,v);if(f&&(f.pageX=parseInt(f.series.xaxis.p2c(f.datapoint[0])+l.left,10),f.pageY=parseInt(f.series.yaxis.p2c(f.datapoint[1])+l.top,10)),s.grid.autoHighlight){for(var b=0;b<r.length;++b){var m=r[b];(m.auto!==e||f&&m.series===f.series&&m.point[0]===f.datapoint[0]&&m.point[1]===f.datapoint[1])&&f||d(m.series,m.point)}f&&g(f.series,f.datapoint,e)}o.getPlaceholder().trigger(e,[u,f])}function g(e,t,i){if("number"==typeof e&&(e=o.getData()[e]),"number"==typeof t){var a=e.datapoints.pointsize;t=e.datapoints.points.slice(a*t,a*(t+1))}var n=v(e,t);-1===n?(r.push({series:e,point:t,auto:i}),o.triggerRedrawOverlay()):i||(r[n].auto=!1)}function d(e,t){if(null==e&&null==t)return r=[],void o.triggerRedrawOverlay();if("number"==typeof e&&(e=o.getData()[e]),"number"==typeof t){var i=e.datapoints.pointsize;t=e.datapoints.points.slice(i*t,i*(t+1))}var a=v(e,t);-1!==a&&(r.splice(a,1),o.triggerRedrawOverlay())}function v(e,t){for(var i=0;i<r.length;++i){var o=r[i];if(o.series===e&&o.point[0]===t[0]&&o.point[1]===t[1])return i}return-1}function f(){h(),s(a,i)}function b(){s(a,i)}function m(e,t,i){var o,a,n=e.getPlotOffset();for(t.save(),t.translate(n.left,n.top),o=0;o<r.length;++o)(a=r[o]).series.bars.show?k(a.series,a.point,t):y(a.series,a.point,t,e);t.restore()}function y(t,i,o,a){var r=i[0],n=i[1],s=t.xaxis,l=t.yaxis,c="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(!(r<s.min||r>s.max||n<l.min||n>l.max)){var p=t.points.radius+t.points.lineWidth/2;o.lineWidth=p,o.strokeStyle=c;var h=1.5*p;r=s.p2c(r),n=l.p2c(n),o.beginPath();var u=t.points.symbol;"circle"===u?o.arc(r,n,h,0,2*Math.PI,!1):"string"==typeof u&&a.drawSymbol&&a.drawSymbol[u]&&a.drawSymbol[u](o,r,n,h,!1),o.closePath(),o.stroke()}}function k(t,i,o){var a,r="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),n=r,s=t.bars.barWidth[0]||t.bars.barWidth;switch(t.bars.align){case"left":a=0;break;case"right":a=-s;break;default:a=-s/2}o.lineWidth=t.bars.lineWidth,o.strokeStyle=r;var l=t.bars.fillTowards||0,c=l>t.yaxis.min?Math.min(t.yaxis.max,l):t.yaxis.min;e.plot.drawSeries.drawBar(i[0],i[1],i[2]||c,a,a+s,(function(){return n}),t.xaxis,t.yaxis,o,t.bars.horizontal,t.bars.lineWidth)}o.hooks.bindEvents.push((function(e,t){var i=e.getOptions();(i.grid.hoverable||i.grid.clickable)&&(t[0].addEventListener("touchevent",h,!1),t[0].addEventListener("tap",n,!1)),i.grid.clickable&&t.bind("click",p),i.grid.hoverable&&(t.bind("mousemove",l),t.bind("mouseleave",c))})),o.hooks.shutdown.push((function(e,t){t[0].removeEventListener("tap",n),t[0].removeEventListener("touchevent",h),t.unbind("mousemove",l),t.unbind("mouseleave",c),t.unbind("click",p),r=[]})),o.hooks.processOptions.push((function(e,t){e.highlight=g,e.unhighlight=d,(t.grid.hoverable||t.grid.clickable)&&(e.hooks.drawOverlay.push(m),e.hooks.processDatapoints.push(f),e.hooks.setupGrid.push(b)),a=e.getPlaceholder()[0].lastMouseMoveEvent}))},options:{grid:{hoverable:!1,clickable:!1}},name:"hover",version:"0.1"})}(jQuery);