{"version":3,"file":"content.js","sources":["../../src/events/tab.domain.js","../../src/events/session.set.js","../../src/events/index.js","../../src/content.js"],"sourcesContent":["export const name = 'tab-domain'\nexport const type = 'background'\n\nconst queryOptions = { active: true, currentWindow: true }\n\nexport async function listener(data, response)\n{\n    let [tab] = await chrome.tabs.query(queryOptions)\n    const url = new URL(tab.url)\n    const domain = url.hostname\n    \n    return domain\n}","export const name = 'session-set'\nexport const type = 'content'\n\n\nexport async function listener(data, response)\n{\n    const {local, session, cookie} = data\n    document.cookie = ''\n    if(local != '{}'){\n        let parsedLocal = JSON.parse(local)\n        try {\n            parsedLocal = JSON.parse(parsedLocal)\n        }catch(e)\n        {\n            console.log('tekrar parse edilmeyecek.')\n        }\n        for(let key in parsedLocal) {\n            localStorage.setItem(key, parsedLocal[key])\n        }\n    }\n\n    if(session != '{}'){\n        const parsedSession = JSON.parse(session)\n        for(let key in parsedSession) {\n            sessionStorage.setItem(key, parsedSession[key])\n        }\n    }\n\n    if(cookie && typeof cookie == 'object') {\n        for(let key in cookie) {\n            const {name, value, domain, secure, path, expires} = cookie[key]\n            const secureString = secure ? 'secure' : ''\n            document.cookie = `${name}=${value};domain=${domain};path=${path};expires=${expires};${secureString}`\n        }\n    }\n    return true\n}","import * as tabDomain from './tab.domain'\nimport * as sessionSet from './session.set'\nconst eventList = [\n   tabDomain,\n   sessionSet\n]\n\nconst eventMap = {}\n\neventList.forEach(event => {\n    const {name, listener, type} = event\n\n    if(eventMap[type] === undefined) {\n        eventMap[type] = {}\n    }\n\n    eventMap[type][name] = listener\n})\n\nexport default async (key, data, sendResponse, type) => {\n    const findListener = eventMap[type][key] || false\n    if(!findListener) return false;\n    return await findListener(data, sendResponse)\n}   ","import runEvent from './events'\nchrome.runtime.onMessage.addListener(async (request, sender, sendResponse)=> {\n    const {name, data} = request\n    return await runEvent(name, data, sendResponse, 'content')\n})\n\n\nfunction packageEventData(listenerName, data)\n{\n    return JSON.stringify({\n        name: listenerName,\n        data: data\n    })\n}\n\nexport function send(listenerName, data)\n{\n    return new Promise((resolve) => {\n        chrome.runtime.sendMessage(packageEventData(listenerName, data), (response)=> {\n            resolve(response)\n        });\n    })\n}"],"names":["name","type","listener"],"mappings":"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"}