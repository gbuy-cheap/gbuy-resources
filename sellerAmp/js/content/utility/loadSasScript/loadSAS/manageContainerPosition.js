"use strict";const importedModules={},importModules=async(t,o)=>{for(const a of t){if(!chrome.runtime.id)return;var e=chrome.runtime.getURL(`js/content/${o}/${a}.js`),e=await import(e);importedModules[a]=e[a]}},manageContainerPosition=async()=>{if(await importModules(["urlConstants","positionConstants","mutableData"],"constants"),await importModules(["showSasShortcuts"],"utility"),await importModules(["setDockedState"],"utility/loadSasScript/loadSAS"),await importModules(["showSASPanel"],"utility/toggleSASPanel"),await importModules(["loadSASPanelPosition"],"utility/positionService"),await importModules(["setUrl"],"utility/urlsService"),chrome.runtime.id){const{mutableData:e,positionConstants:t,loadSASPanelPosition:a,showSasShortcuts:o,setDockedState:i,showSASPanel:n,setUrl:s}=importedModules,{FLOATING:r,AMAZON_EMBEDDED:l,AMAZON_EMBEDDED_WIDE:d,DEFAULT_FLOATING_WIDTH:c,DEFAULT_FLOATING_HEIGHT:g,DEFAULT_DOCKED_WIDTH:m,DEFAULT_DOCKED_STATE:S,DEFAULT_DOCKED_STATE_AMAZON:u}=t;chrome.runtime.id&&chrome.storage.sync.get({display:!0,floatingWidth:c,floatingHeight:g,dockedWidth:m,dockedState:S,dockedStateAmazon:u,floatingLeft:0,floatingTop:0},function(t){e.gFloatingTop=t.floatingTop,e.gFloatingLeft=t.floatingLeft,e.gFloatingHeight=t.floatingHeight,e.gFloatingWidth=t.floatingWidth,e.gDockedWidth=t.dockedWidth,e.gAmazonProductPage?e.gDockedState=t.dockedStateAmazon:(e.gDockedState=t.dockedState,e.gDockedState!=l&&e.gDockedState!=d||(e.gDockedState=S)),$("#SASContainer").draggable({handle:".first-row",containment:"window",iframeFix:!0,stop:function(t,o){chrome.runtime.id&&($("#SASContainer").position().top<0&&$("#SASContainer").css({top:"0"}),e.gFloatingLeft=$("#SASContainer").position().left,e.gFloatingTop=$("#SASContainer").position().top,chrome.storage.sync.set({floatingLeft:e.gFloatingLeft},function(){chrome.runtime.lastError&&console.error(chrome.runtime.lastError.message)}),chrome.storage.sync.set({floatingTop:e.gFloatingTop},function(){chrome.runtime.lastError&&console.error(chrome.runtime.lastError.message)}),i(e.gDockedState),a())},drag:function(t,o){},start:function(t,o){e.gDockedState==r&&(i(e.gDockedState),a())}}),$("#sasFrame").on("load",function(){$("#loadingMessage").css("display","none"),$("#sasFrame").css("display","block")}),e.display=e.display&&t.display,new URL(document.location).searchParams.has("sas_autoopen")&&(s(""),e.display=!0),1==e.display&&n(),o(t.display)})}};export{manageContainerPosition};