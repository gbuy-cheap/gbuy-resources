"use strict";const importedModules={},importModules=async(e,t)=>{for(const r of e){if(!chrome.runtime.id)return;var a=chrome.runtime.getURL(`js/content/${t}/${r}.js`),a=await import(a);importedModules[r]=a[r]}},generateElement=async(e,t)=>{if(await importModules(["parseConstants"],"constants"),await importModules(["setUrl"],"utility/urlsService"),await importModules(["showSASPanel"],"utility/toggleSASPanel"),chrome.runtime.id){var a=importedModules["parseConstants"];const{decimal:r,zone:o,SAS_LAUNCH_CLASSNAME:s}=a;a=document.createElement("a");return a.href="#",a.className=s,a.dataset.asin=e,a.dataset.zone=o,a.dataset.sale_price=(e=t,+((e="."===r[o]?e.replace(/[^0-9.]+/g,""):e.replace(/[^0-9,]+/g,"").replace(",","."))?parseFloat(e.match(/(\d+(?:\.\d{0,2})?)/)[1]):null)),await manageShortcutVisibility(a),a}},manageShortcutVisibility=async e=>{chrome.runtime.id&&((await chrome.storage.sync.get("options"))?.options)?.isShortcutVisible&&addShortcut(e)},addShortcut=e=>{const{setUrl:s,showSASPanel:i}=importedModules;var t,a;chrome.runtime.id&&(t=chrome.runtime.getURL("images/sas-logo2-32.png"),(a=document.createElement("img")).src=t,$(e).append(a),$(e).click(function(e){var{asin:t,cost_price:a,sale_price:r,source_url:o}=this.dataset;s(t,a,r,o),i(),e.preventDefault()}))};export{generateElement};