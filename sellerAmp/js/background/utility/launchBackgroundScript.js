"use strict";import{messageExternalHandler}from"./eventHandlers/messageExternalHandler/messageExternalHandler.js";import{installHandler}from"./installHandler.js";import{tabsUpdateHandler}from"./eventHandlers/tabsUpdateHandler.js";import{contextMenuClickHandler}from"./eventHandlers/contextMenuClickHandler.js";import{actionClickHandler}from"./eventHandlers/actionClickHandler.js";import{addSessionIDCookieHeader}from"./addSessionIDCookieHeader.js";import{handleStorageChange,manageContentSecurityPolicy}from"./manageContentSecurityPolicy/manageContentSecurityPolicy.js";import{setDefaultOptions}from"./setDefaultOptions.js";import{injectContentIntoTabs}from"./injectContentIntoTabs.js";import{connectHandler}from"./eventHandlers/connectHandler.js";import{addUbIDCookieHeader}from"./addUbIDCookieHeader.js";import{addUserAgentHeader}from"./addUserAgentHeader.js";import{addSassCookie}from"./addSassCookie.js";import{addAuthorizationHeader}from"./addAuthorizationHeader.js";import{addSassUserAgentHeader}from"./addSassUserAgentHeader.js";const launchBackgroundScript=async()=>{var{runtime:e,contextMenus:a,action:n,tabs:t,storage:r}=chrome;e.onMessageExternal.addListener(messageExternalHandler),e.onConnect.addListener(connectHandler),e.onInstalled.addListener(installHandler),t.onUpdated.addListener(tabsUpdateHandler),a.onClicked.addListener(contextMenuClickHandler),n.onClicked.addListener(actionClickHandler),r.sync.onChanged.addListener(handleStorageChange),addAuthorizationHeader(),addSassUserAgentHeader(),addSassCookie(),addUserAgentHeader(),addSessionIDCookieHeader(),addUbIDCookieHeader(),await setDefaultOptions(),await manageContentSecurityPolicy(),injectContentIntoTabs()};export{launchBackgroundScript};