"use strict";import{allResourceTypes,declarativeNetRequest,ruleActionType}from"../constants/declarativeNetRequestConstants.js";const REQUEST_HEADERS="requestHeaders",RESPONSE_HEADERS="responseHeaders";class NetRequestAPI{async updateRequestHeaders(e){var{id:e,requestHeaders:s,urlFilter:t,isSessionRule:a=!0}=e;await this._updateHeaders({id:e,headers:s,headersType:REQUEST_HEADERS,urlFilter:t,isSessionRule:a})}async updateResponseHeaders(e){var{id:e,responseHeaders:s,urlFilter:t,isSessionRule:a=!0}=e;await this._updateHeaders({id:e,headers:s,headersType:RESPONSE_HEADERS,urlFilter:t,isSessionRule:a})}async _updateHeaders(e){var{id:e,headers:s,headersType:t,urlFilter:a,isSessionRule:r}=e,e={removeRuleIds:[e],addRules:[{id:e,priority:1,action:{type:ruleActionType.MODIFY_HEADERS,[t]:s},condition:{urlFilter:a,resourceTypes:allResourceTypes}}]};r?await declarativeNetRequest.updateSessionRules(e):await declarativeNetRequest.updateDynamicRules(e)}}const netRequestAPI=new NetRequestAPI;export{netRequestAPI};