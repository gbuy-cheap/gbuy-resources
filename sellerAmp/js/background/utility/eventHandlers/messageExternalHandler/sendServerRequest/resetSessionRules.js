"use strict";import{cookieRuleIndex}from"../../../../constants/cookieRuleIndex.js";import{originRuleIndex}from"../../../../constants/originRuleIndex.js";import{declarativeNetRequest}from"../../../../constants/declarativeNetRequestConstants.js";import{userAgentRuleIndex}from"../../../../constants/userAgentRuleIndex.js";const prevRequestDate={value:null},ONE_MINUTE=6e4,resetSessionRules=async()=>{var e=(new Date).getTime(),t=prevRequestDate.value?e-prevRequestDate.value:0,e=(prevRequestDate.value=e,t>ONE_MINUTE);e&&(cookieRuleIndex.value=0,originRuleIndex.value=0,userAgentRuleIndex.value=0,await removeAllRules())},removeAllRules=async()=>{(await declarativeNetRequest.getSessionRules()).forEach(e=>{declarativeNetRequest.updateSessionRules({removeRuleIds:[e.id]})})};export{resetSessionRules};