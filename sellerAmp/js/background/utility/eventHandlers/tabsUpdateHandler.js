"use strict";import{sentrySellerAmp}from"../../../content/sentrySellerAmp/sentrySellerAmp.js";const regExpPattern="https*://(?:www.)*(?:smile.)*amazon.(co.uk|es|it|de|fr|com|ca)/(.*/)*(dp|gp/product|gp/offer-listing)/(.*/)*([A-Z0-9]{10})",tabsUpdateHandler=(e,t,n)=>{sentrySellerAmp.wrap(function(){handleEvent(e,t,n)})},handleEvent=(e,t,n)=>{var r;t.url&&(r=RegExp(regExpPattern),r=t.url.match(r))&&4<r.length&&sendMessageToContent({tab:n,m:r,changeInfo:t})},sendMessageToContent=({tab:t,m:n,changeInfo:r})=>{chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.tabs.sendMessage(t.id,{command:"dosas",source_url:r.url,selectionText:n[5],no_display_update:!0},function(e){chrome.runtime.lastError&&console.log("Runtime Error")})})};export{tabsUpdateHandler};