"use strict";import{sentrySellerAmp}from"../../../content/sentrySellerAmp/sentrySellerAmp.js";import{checkAbilityOfInjection}from"../checkAbilityOfInjection.js";const contextMenuClickHandler=async(e,t)=>{sentrySellerAmp.wrap(function(){handleEvent(e,t)})},handleEvent=async(e,t)=>{var a=t.url;checkAbilityOfInjection(a)&&await makeAction(e,t)},makeAction=async(e,t)=>{switch(e.menuItemId){case"cmSas":case"cmSasPage":case"cmSasLink":await activateTab(t.id,doSas(e,t));break;case"cmPopup":await activateTab(t.id,togglePopup(e,t))}},activateTab=async(e,t)=>{setTimeout(()=>{t()},1e3)},doSas=(e,t)=>()=>chrome.tabs.sendMessage(t.id,{command:"dosas",selectionText:e.selectionText,linkUrl:e.linkUrl,pageUrl:e.pageUrl,source_url:t.url,smartSearch:"cmSasPage"==e.menuItemId,linkSearch:"cmSasLink"==e.menuItemId},function(e){}),togglePopup=(e,t)=>()=>chrome.tabs.sendMessage(t.id,{command:"togglePopup",source_url:t.url},function(e){});export{contextMenuClickHandler};